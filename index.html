<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Lotto Live Statistiche</title>
</head>

<body style="margin:0;font-family:Arial;background:linear-gradient(to bottom,#0f2027,#203a43,#2c5364);color:white;text-align:center;">

<h1 style="margin-top:30px;">ðŸŽ¯ Lotto Live Statistiche</h1>
<div id="ruota-forte" style="font-size:22px;margin:15px 0;font-weight:bold;color:orange;">Caricamento...</div>
<div id="contenitore"></div>

<script>

async function caricaDati(){

  try{

    const response = await fetch("https://lotto-statistiche.onrender.com/api");
    const json = await response.json();

    console.log(json);

    const dati = json.dati;
    const ruotaForte = json.ruota_piu_forte;

    document.getElementById("ruota-forte").innerHTML =
      "ðŸ”¥ RUOTA PIÃ™ FORTE: " + ruotaForte;

    const container = document.getElementById("contenitore");
    container.innerHTML = "";

    dati.forEach(ruota => {

      const div = document.createElement("div");
      div.style.margin="20px auto";
      div.style.padding="15px";
      div.style.width="300px";
      div.style.background="rgba(255,255,255,0.1)";
      div.style.borderRadius="10px";

      if(ruota.ruota === ruotaForte){
        div.style.background="#00cc66";
        div.style.color="black";
      }

      div.innerHTML = `
        <h3>${ruota.ruota}</h3>
        <p>${ruota.ultima_estrazione.join(" - ")}</p>
      `;

      container.appendChild(div);

    });

  }catch(error){
    console.error(error);
    document.getElementById("ruota-forte").innerHTML = "Errore caricamento dati";
  }

}

caricaDati();

</script>

</body>
</html>
